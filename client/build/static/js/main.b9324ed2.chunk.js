(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{48:function(e,t,a){e.exports=a(92)},67:function(e,t,a){},89:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(39),c=a.n(o),s=a(96),l=a(2),i=a(14),u=a(42),p=a.n(u),m=a(43),d=(a(67),a(97)),h=a(98),v=a(3),f=a(4),E=a(7),y=a(5),b=a(8),g=a(29),O=a(44),j=a.n(O),N=a(16),w=a.n(N),P=j.a.create({baseURL:"http://localhost:3000/"});P.defaults.baseURL="http://localhost:3000/",P.defaults.headers.common.Authorization="Bearer "+w.a.load("user-token"),P.defaults.headers.get.Accepts="application/json",P.interceptors.request.use(function(e){return console.log("Request Interceptor",e),e}),P.interceptors.response.use(function(e){return console.log("Response Interceptor",e),e});var k=P;function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return{type:"GET_PRODUCTS",payload:k.get("/api/products?limit=".concat(e,"&skip=").concat(t,"&order=").concat(a)).then(function(e){return n?Object(g.a)(n).concat(Object(g.a)(e.data.data)):e.data.data})}}function R(e){var t=k.get("/api/products/".concat(e));return function(e){t.then(function(t){var a=t.data;e({type:"GET_PRODUCT",payload:a.data})})}}var _=a(94),I=function(e){return r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement(_.a,{to:"/products/".concat(e.ID),className:"product-item"},r.a.createElement("img",{src:"https://via.placeholder.com/300.png"}))),r.a.createElement("h2",null,r.a.createElement(_.a,{to:"/products/".concat(e.ID),className:"product-item"},e.Name)),r.a.createElement("p",{className:"product-price"},e.Price),r.a.createElement("p",{className:"product-description"},e.Description))},T=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).renderItems=function(e){var t=e.list;return t&&t.length>0?t.map(function(e){return r.a.createElement("div",{className:"columns medium-4",key:e.ID},r.a.createElement(I,Object.assign({},e,{key:e.ID})))}):null},a.loadmore=function(){var e=a.props.products.list.length;a.props.dispatch(C(1,e,"desc",a.props.products.list))},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch(C(1,0,"desc"))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"columns"},r.a.createElement("h1",null,"Home"))),r.a.createElement("div",{className:"row"},this.renderItems(this.props.products),r.a.createElement("div",{className:"loadmore",onClick:this.loadmore},"Load More")))}}]),t}(n.Component);var D=Object(l.b)(function(e){return{products:e.products}})(T),U=function(){return r.a.createElement("div",null,r.a.createElement(D,null))},S=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"columns"},r.a.createElement("h2",null,"404 NOT FOUND")))}}]),t}(n.Component);var x=Object(l.b)(function(e){return{user:e.user}})(S),A=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).renderProduct=function(e){return e?r.a.createElement("div",{className:"product"},r.a.createElement("div",null,r.a.createElement("img",{src:"https://via.placeholder.com/300.png"})),r.a.createElement("h2",null,e.Name),r.a.createElement("p",null,e.Description)):null},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch(R(this.props.match.params.id))}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"CLEAR_PRODUCT",payload:{}})}},{key:"render",value:function(){var e=this.props.product;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"columns"},r.a.createElement("h1",null,"Product"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"columns"},this.renderProduct(e))))}}]),t}(n.Component);var L=Object(l.b)(function(e){return{product:e.products.product}})(A),W=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(E.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",error:"",success:!1},a.handleInputEmail=function(e){a.setState({email:e.target.value})},a.handleInputPassword=function(e){a.setState({password:e.target.value})},a.submitForm=function(e){e.preventDefault(),a.props.dispatch(function(e){var t=e.email,a=e.password;return{type:"USER_LOGIN",payload:k.post("/api/user/login",{email:t,password:a}).then(function(e){var t=e.data.data.Token;return w.a.save("user-token",t),k.defaults.headers.common.Authorization="Bearer "+t,e.data})}}(a.state)).then(function(e){!0===e.payload.status&&a.props.history.push("/")})},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.user.login&&e.user.login.status&&this.props.history.push("/user")}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",{className:"row"},r.a.createElement("form",{onSubmit:this.submitForm},r.a.createElement("h2",null,"Log in here"),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"email",placeholder:"Enter your mail",value:this.state.email,onChange:this.handleInputEmail})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"password",placeholder:"Enter your password",value:this.state.password,onChange:this.handleInputPassword})),r.a.createElement("button",{type:"submit",className:"button"},"Log in"),r.a.createElement("div",{className:"error callout alert"},e.login?r.a.createElement("div",null,e.login.message):null)))}}]),t}(n.Component);var G=Object(l.b)(function(e){return{user:e.user}})(W),H=a(11),F=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(E.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={formdata:{id:a.props.match.params.id,name:"",description:"",price:""}},a.handleInput=function(e,t){var n=Object(H.a)({},a.state.formdata);n[t]=e.target.value,a.setState({formdata:n})},a.submitForm=function(e){var t,n;e.preventDefault(),a.props.dispatch((t=a.state.formdata,{type:"UPDATE_PRODUCT",payload:k.put("/api/products/".concat(t),n).then(function(e){return e.data})}))},a.deletePost=function(){var e;a.props.dispatch((e=a.props.match.params.id,{type:"DELETE_PRODUCT",payload:k.delete("/api/products/".concat(e)).then(function(e){return e.data})}))},a.redirectUser=function(){setTimeout(function(){a.props.history.push("/user/me")},1e3)},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch(R(this.props.match.params.id))}},{key:"componentWillReceiveProps",value:function(e){var t=e.products.Product;this.setState({formdata:{id:t.id,name:t.name,description:t.description,price:parseInt(t.price)}})}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"CLEAR_PRODUCT",payload:{}})}},{key:"render",value:function(){var e=this,t=this.props.products;return r.a.createElement("div",{className:"article"},t.updateProduct?r.a.createElement("div",{className:"edit_confirm"},"post updated , ",r.a.createElement(_.a,{to:"/products/".concat(t.Product._id)},"Click here to see your post")):null,t.postDeleted?r.a.createElement("div",{className:"red_tag"},"Post Deleted",this.redirectUser()):null,r.a.createElement("form",{onSubmit:this.submitForm},r.a.createElement("h2",null,"Edit Product"),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"text",placeholder:"Enter name",value:this.state.formdata.name,onChange:function(t){return e.handleInput(t,"name")}})),r.a.createElement("textarea",{value:this.state.formdata.description,onChange:function(t){return e.handleInput(t,"description")}}),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"number",placeholder:"Enter Price",value:this.state.formdata.price,onChange:function(t){return e.handleInput(t,"price")}})),r.a.createElement("button",{type:"submit"},"Update Product"),r.a.createElement("div",{className:"delete_post"},r.a.createElement("div",{className:"button",onClick:this.deletePost},"Delete Product"))))}}]),t}(n.PureComponent);var M=Object(l.b)(function(e){return{products:e.products}})(F),B=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(E.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",lastname:"",email:"",password:"",error:""},a.handleInputEmail=function(e){a.setState({email:e.target.value})},a.handleInputPassword=function(e){a.setState({password:e.target.value})},a.handleInputName=function(e){a.setState({name:e.target.value})},a.handleInputLastname=function(e){a.setState({lastname:e.target.value})},a.submitForm=function(e){e.preventDefault(),a.setState({error:""}),a.props.dispatch(function(e){var t=k.post("/api/register",e);return function(e){t.then(function(t){var a={success:t.data.success};e({type:"USER_REGISTER",payload:a})})}}({email:a.state.email,password:a.state.password,name:a.state.name,lastname:a.state.lastname},a.props.user.users))},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch({type:"GET_USER",payload:k.get("/api/users").then(function(e){return e.data})})}},{key:"componentWillReceiveProps",value:function(e){!1===e.user.register?this.setState({error:"Error,try again"}):this.setState({name:"",lastname:"",email:"",password:""})}},{key:"render",value:function(){this.props.user;return r.a.createElement("div",{className:"rl_container"},r.a.createElement("form",{onSubmit:this.submitForm},r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"text",placeholder:"Enter name",value:this.state.name,onChange:this.handleInputName})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"text",placeholder:"Enter Lastname",value:this.state.lastname,onChange:this.handleInputLastname})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"email",placeholder:"Enter Email",value:this.state.email,onChange:this.handleInputEmail})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"password",placeholder:"Enter Password",value:this.state.password,onChange:this.handleInputPassword})),r.a.createElement("button",{type:"submit"},"Create User"),r.a.createElement("div",{className:"error"},this.state.error)))}}]),t}(n.PureComponent);var q=Object(l.b)(function(e){return{user:e.user}})(B),z=function(e){return setTimeout(function(){e.history.push("/")},2e3),r.a.createElement("div",{className:"logout_container"},r.a.createElement("h1",null,"Sorry to see you go :("))},J=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",{className:"row"},r.a.createElement("h1",null,"Profile"),e.email)}}]),t}(n.Component);var Y=Object(l.b)(function(e){return{user:e.user}})(J),$=a(18),K=a.n($),Q=a(45),V=a.n(Q);var X=Object(l.b)(function(e){return console.log(e.user),{user:e.user}})(function(e){var t=e.title,a=e.user,n=[{type:"navItem",icon:"home",text:"Home",link:"/",restricted:!1},{type:"navItem",icon:"file-text-o",text:"Register",link:"/user/register",restricted:!1,exclude:!0},{type:"navItem",icon:"file-text-o",text:"Login",link:"/login",restricted:!1,exclude:!0},{type:"navItem",icon:"file-text-o",text:"Logout",link:"/user/logout",restricted:!0}],o=function(e,t){return r.a.createElement("div",{key:t,className:e.type},r.a.createElement(_.a,{to:e.link},r.a.createElement(K.a,{name:e.icon}),e.text))};return r.a.createElement("div",{className:"navigations"},r.a.createElement("h5",null,t),n.map(function(e,t){return a.login&&a.login.status?e.exclude?null:o(e,t):e.restricted?null:o(e,t)}))}),Z=function(e){return r.a.createElement(V.a,{showNav:e.showNav,onHideNav:e.onHideNav,navStyle:{background:"#ffffff",maxWidth:"220px"}},r.a.createElement(X,{title:"GoReact"}))},ee=(a(89),function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(E.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={showNav:!1},a.onHideNav=function(){a.setState({showNav:!1})},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("header",null,r.a.createElement("div",{className:"open-nav"},r.a.createElement(K.a,{name:"bars",onClick:function(){return e.setState({showNav:!0})},style:{color:"#ffffff",padding:"10px",cursor:"pointer"}})),r.a.createElement(Z,{showNav:this.state.showNav,onHideNav:function(){return e.onHideNav()}}),r.a.createElement(_.a,{to:"/",className:"logo"},"Store"))}}]),t}(n.Component)),te=function(e){return r.a.createElement("div",null,r.a.createElement(ee,null),r.a.createElement("div",null,e.children))},ae=function(e,t){var a=function(a){function n(){var e,t;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).state={loading:!0},t}return Object(b.a)(n,a),Object(f.a)(n,[{key:"componentWillMount",value:function(){this.props.dispatch({type:"USER_AUTH",payload:k.get("/api/user/me").then(function(e){return e.data}).catch(function(e){w.a.remove("user-token")})})}},{key:"componentWillReceiveProps",value:function(e){this.setState({loading:!1}),e.user.login&&e.user.login.status?!1===t&&this.props.history.push("/user/profile"):t&&this.props.history.push("/login")}},{key:"render",value:function(){return this.state.loading?r.a.createElement("div",{className:"loader"},"Loading..."):r.a.createElement(e,Object.assign({},this.props,{user:this.props.user}))}}]),n}(n.Component);return Object(l.b)(function(e){return{user:e.user}})(a)},ne=function(){return r.a.createElement(te,null,r.a.createElement(d.a,null,r.a.createElement(h.a,{path:"/",exact:!0,component:ae(U)}),r.a.createElement(h.a,{path:"/login",exact:!0,component:G}),r.a.createElement(h.a,{path:"/user/profile",exact:!0,component:ae(Y)}),r.a.createElement(h.a,{path:"/user/logout",exact:!0,component:ae(z,!0)}),r.a.createElement(h.a,{path:"/user/register",exact:!0,component:q}),r.a.createElement(h.a,{path:"/products/:id",exact:!0,component:ae(L,!0)}),r.a.createElement(h.a,{path:"/products/:id/edit",exact:!0,component:ae(M,!0)}),r.a.createElement(h.a,{component:ae(x,!0)})))},re=a(95),oe=Object(i.c)({initialState:{user:{},products:[],categories:[]},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CATEGORIES":return Object(H.a)({},e,{list:t.payload});case"GET_CATEGORY":return Object(H.a)({},e,{product:t.payload});default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS":return Object(H.a)({},e,{list:t.payload});case"GET_PRODUCT":return Object(H.a)({},e,{product:t.payload});case"ADD_PRODUCT":return Object(H.a)({},e,{newProduct:t.payload});case"CLEAR_PRODUCT":return Object(H.a)({},e,{product:t.payload});case"CLEAR_NEWPRODUCT":return Object(H.a)({},e,{newProduct:t.payload});case"UPDATE_PRODUCT":return Object(H.a)({},e,{updateProduct:t.payload.success,product:t.payload.product});case"DELETE_PRODUCT":return Object(H.a)({},e,{postDeleted:t.payload});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN":case"USER_AUTH":return Object(H.a)({},e,{login:t.payload});case"GET_USER":return Object(H.a)({},e,{user:t.payload});default:return e}},form:re.a});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()});var ce=Object(i.a)(p.a,m.a)(i.d);c.a.render(r.a.createElement(l.a,{store:ce(oe)},r.a.createElement(s.a,null,r.a.createElement(ne,null))),document.getElementById("root"))}},[[48,2,1]]]);
//# sourceMappingURL=main.b9324ed2.chunk.js.map